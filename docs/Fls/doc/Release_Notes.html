---
layout: default
title: Release_Notes
nav_order: 2
parent: Flash Driver
---
{% raw %}
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
     "http://www.w3.org/TR/html4/transitional.dtd">
<html>
<head>

  <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
  <title></title>
  <meta name="generator" content="LibreOffice 24.2.7.2 (Linux)"/>
  <meta name="created" content="00:00:00"/>
  <meta name="changed" content="00:00:00"/>
</head>
<body>
<h1></h1>
<p> </p>
<p> </p>
<p><b>Page 1 of 5 </b></p>
<p><b>F021 Flash API v2.01.00 Release Notes </b></p>
<p>F021 Flash API v2.01.00 </p>
<p>Release Notes </p>
<p>May 20, 2014 </p>
<p> </p>
<p> </p>
<p><i><b>The Texas Instruments' F021 Flash API provides functions that can be used to erase, program and </b></i></p>
<p><i><b>verify F021 Flash on TI Hercules 65nm devices. </b></i></p>
<p><i><b> </b></i></p>
<p><i><b>The version 2.x.x series of the Flash API is the first series to follow ISO26262 development flow. </b></i></p>
<p><i><b> </b></i></p>
<p><i><b> </b></i></p>
<p><b>TABLE OF CONTENTS </b></p>
<p> </p>
<p><b>1</b></p>
<p> </p>
<p><b>New In This Release ..................................................................................... 2</b></p>
<p> </p>
<p><b>2</b></p>
<p> </p>
<p><b>Release Contents.......................................................................................... 4</b></p>
<p> </p>
<p><b>3</b></p>
<p> </p>
<p><b>Fixed In This Release ................................................................................... 5</b></p>
<p> </p>
<p><b>4</b></p>
<p> </p>
<p><b>Known Issues ............................................................................................... 5</b></p>
<p> </p>
<p> </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p> </p>
<p> </p>
<p><b>Page 2 of 5 </b></p>
<p><b>F021 Flash API v2.01.00 Release Notes </b></p>
<p>1</p>
<p> </p>
<p>New In This Release </p>
<p>v2.01.00 </p>
<p>o</p>
<p> </p>
<p>No new features in this release  </p>
<p> </p>
<p>v2.00.01 </p>
<p>o</p>
<p> </p>
<p>No new features in this release  </p>
<p> </p>
<p>v2.00.00 </p>
<p>o</p>
<p> </p>
<p>Replaced the user defined callback functions Fapi_setupEepromSectorEnable() </p>
<p>and Fapi_setupBankSectorEnable() with the functions </p>
<p>Fapi_enableEepromBankSectors() and Fapi_enableMainBankSectors. </p>
<p>o</p>
<p> </p>
<p>Deprecated the function Fapi_waitDelay(). </p>
<p>o</p>
<p> </p>
<p>Removed the header files F021_FMC_BE.h and F021_FMC_LE.h as F021.h has </p>
<p>been updated to automatically determine compile endianness. </p>
<p>o</p>
<p> </p>
<p>Replaced the Fapi_initializeAPI() function with Fapi_initializeFlashBanks(). </p>
<p>With this change, all global variables have been removed from the API. </p>
<p>o</p>
<p> </p>
<p>Added the Compatibility.h header file. This file contains some backwards </p>
<p>compatibility macros to work with projects that were previously built with </p>
<p>v1.51 of the API. The list of functions and global variables 2.00.00 with </p>
<p>compatibility defines are: </p>
<p>•</p>
<p> </p>
<p>Fapi_initializeAPI() </p>
<p>•</p>
<p> </p>
<p>Fapi_getFsmStatus() </p>
<p>•</p>
<p> </p>
<p>Fapi_issueFsmSuspendCommand() </p>
<p>•</p>
<p> </p>
<p>Fapi_writeEwaitValue(mEwait) </p>
<p>•</p>
<p> </p>
<p>Fapi_checkFsmForReady() </p>
<p>•</p>
<p> </p>
<p>Fapi_GlobalInit.m_poFlashControlRegisters </p>
<p>o</p>
<p> </p>
<p>Fapi_getBankSectors() was updated to return sector sizes in kilobytes and to </p>
<p>support 256kB sectors, au8SectorSizes which was an array uint8_t was </p>
<p>changed to an array of uint16_t and renamed au16SectorSizes. </p>
<p>o</p>
<p> </p>
<p>Added Fapi_remapMainAddress() to give an easy method to determine ECC </p>
<p>address for a main flash address. </p>
<p>o</p>
<p> </p>
<p>Removed unused status' from Fapi_StatusType </p>
<p>•</p>
<p> </p>
<p>Fapi_Status_AsyncBusy </p>
<p>•</p>
<p> </p>
<p>Fapi_Status_AsyncComplete </p>
<p>•</p>
<p> </p>
<p>Fapi_Error_StateMachineTimeout </p>
<p>•</p>
<p> </p>
<p>Fapi_Error_InvalidDelayValue </p>
<p>•</p>
<p> </p>
<p>Fapi_Error_InvalidCpu </p>
<p>o</p>
<p> </p>
<p>Removed the listing of structures. Please refer to the installed F021 Flash API </p>
<p>headers files for these. </p>
<h1 style="page-break-before:always; "></h1>
<p> </p>
<p> </p>
<p><b>Page 3 of 5 </b></p>
<p><b>F021 Flash API v2.01.00 Release Notes </b></p>
<p>o</p>
<p> </p>
<p>Changed from the use of defined typedefs uint64, uint32, uint16, and uint8 to </p>
<p>the standard definitions in stdint.h, uint64_t, uint32_t, uint16_t, and uint8_t. </p>
<p>Also changed boolean to boolean_t </p>
<p>o</p>
<p> </p>
<p>Added #if defined guardbanding around the defines in Types.h that can </p>
<p>conflict with Autosar Platform_Types.h defines. </p>
<p>o</p>
<p> </p>
<p>Added appendix to reference guide describing the PSA calculation </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p> </p>
<p> </p>
<p><b>Page 4 of 5 </b></p>
<p><b>F021 Flash API v2.01.00 Release Notes </b></p>
<p>2</p>
<p> </p>
<p>Release Contents </p>
<p><b>The following API files are distributed with the installer: </b></p>
<p></p>
<p> </p>
<p>Library Files - <i>(All library files were built using TI's code generation tools for ARM v5.1.3 with the </i></p>
<p><i>following compile options: -mv7R4 --abi=eabi --strict_ansi -g -O3 --symdebug:dwarf_version=3 --</i></p>
<p><i>diag_warning=225 --gen_func_subsections=on --enum_type=packed --code_state=16 ) </i></p>
<p>o</p>
<p> </p>
<p>F021_API_CortexR4_BE.lib – This is the Flash API object file for Cortex R4 Big Endian </p>
<p>devices. </p>
<p>o</p>
<p> </p>
<p>F021_API_CortexR4_BE_v3D16.lib – This is the Flash API object file for Cortex R4 Big </p>
<p>Endian devices that are using floating point unit. <i>(In addition to the general build options, </i></p>
<p><i>this library was built using : --float_support=VFPv3D16) </i></p>
<p>o</p>
<p> </p>
<p>F021_API_CortexR4_BE_L2FMC.lib – This is the Flash API object file for Cortex R4 Big </p>
<p>Endian devices using the L2FMC memory controller.  </p>
<p>o</p>
<p> </p>
<p>F021_API_CortexR4_LE.lib – This is the Flash API object file for Cortex R4 Little Endian </p>
<p>devices. <i>(In addition to the general build options, this library was built using : -me) </i></p>
<p>o</p>
<p> </p>
<p>F021_API_CortexR4_LE_v3D16.lib – This is the Flash API object file for Cortex R4 Little </p>
<p>Endian devices that are using floating point unit. <i>(In addition to the general build options, </i></p>
<p><i>this library was built using : -me --float_support=VFPv3D16) </i></p>
<p>o</p>
<p> </p>
<p>F021_API_CortexR4_LE_L2FMC.lib – This is the Flash API object file for Cortex R4 Little </p>
<p>Endian devices using the L2FMC memory controller. </p>
<p>o</p>
<p> </p>
<p>F021_API_CortexR4_BE_L2FMC_v3D16.lib – This is the Flash API object file for Cortex </p>
<p>R4/R5 Big Endian devices using the L2FMC memory controller and floating point unit.  </p>
<p><i>(In addition to the general build options, this library was built using :  </i></p>
<p><i> --float_support=VFPv3D16). </i></p>
<p>o</p>
<p> </p>
<p>F021_API_CortexR4_LE_L2FMC_v3D16.lib – This is the Flash API object file for Cortex </p>
<p>R4/R5 Little Endian devices using the L2FMC memory controller and floating point unit.  </p>
<p><i>(In addition to the general build options, this library was built using : -me                             </i></p>
<p><i>--float_support=VFPv3D16). </i></p>
<p> </p>
<p></p>
<p> </p>
<p>Source Files </p>
<p>o</p>
<p> </p>
<p>Fapi_UserDefinedFunctions.c – This is file that contains the user definable functions. </p>
<p></p>
<p> </p>
<p>Include Files </p>
<p>o</p>
<p> </p>
<p>F021.h – This is the master include file and includes all other include files. This should be </p>
<p>the only include file added to the users's code. </p>
<p>The following include files should not be included directly by the user’s code, but are listed here </p>
<p>for user reference: </p>
<p>o</p>
<p> </p>
<p>Compatibility.h - A set of macros to be used for backwards compatibility for 1.x.x versions </p>
<p>of the API. </p>
<p>o</p>
<p> </p>
<p>Constants.h – Constant definitions used by the API. </p>
<p>o</p>
<p> </p>
<p>FapiFunctions.h - Contains all the Fapi function prototypes. </p>
<p>o</p>
<p> </p>
<p>Helpers.h – Set of helper defines </p>
<p>o</p>
<p> </p>
<p>Registers.h – Definitions common to all register implementations and includes the </p>
<p>appropriate register include file for the selected device type. </p>
<p></p>
<p> </p>
<p>Registers_FMC_BE.h – Big Endian Flash memory controller registers structure </p>
<p>for TMS570/RM4 devices. </p>
<p></p>
<p> </p>
<p>Registers_FMC_LE.h – Little Endian Flash memory controller registers structure </p>
<p>for TMS570/RM4 devices. </p>
<p>o</p>
<p> </p>
<p>Types.h – Contains all the enumerations and structures used by the API </p>
<p>Below are a set of compiler specific support header files: </p>
<p>o</p>
<p> </p>
<p>CGT.ARM.h - Contains a set of definitions used by the ARM compiler </p>
<p>o</p>
<p> </p>
<p>CGT.CCS.h - Contains a set of definitions used by the TI CCS compiler </p>
<p>o</p>
<p> </p>
<p>CGT.gcc.h - Contains a set of definitions used by the gcc compiler </p>
<p>o</p>
<p> </p>
<p>CGT.GHS.h - Contains a set of definitions used by the GreenHills compiler </p>
<p>o</p>
<p> </p>
<p>CGT.IAR.h - Contains a set of definitions used by the IAR EWARM compiler </p>
<p> </p>
<h1 style="page-break-before:always; "></h1>
<p> </p>
<p> </p>
<p><b>Page 5 of 5 </b></p>
<p><b>F021 Flash API v2.01.00 Release Notes </b></p>
<p></p>
<p> </p>
<p>Library information files </p>
<p>o</p>
<p> </p>
<p>build_information.txt - This file contains function callgraphs, worst case stack usage for </p>
<p>each function, function size in bytes and MD5 and SHA1 checksums for all files delivered </p>
<p>in the installer package.  </p>
<p>o</p>
<p> </p>
<p>License_Agreement.pdf - This is library’s license agreement. </p>
<p>o</p>
<p> </p>
<p>readme.txt - This file contains release specific information.  </p>
<p>o</p>
<p> </p>
<p>Release_Notes.pdf - This file. </p>
<p>o</p>
<p> </p>
<p>spna148.pdf- This is the application note, Advanced F021 Flash API </p>
<p>Erase/Program Usage. </p>
<p>o</p>
<p> </p>
<p>spnu501.pdf – This is the reference guide for the library. </p>
<p>o</p>
<p> </p>
<p>spnz210.pdf - This is the library errata document. </p>
<p> </p>
<p>3</p>
<p> </p>
<p>Fixed In This Release </p>
<p><b>v2.01.00 </b></p>
<p> </p>
<p><b>Reference  </b></p>
<p><b>Description </b></p>
<p><b>SDOCM00102756 </b></p>
<p>Remove FLOCK register from register include files </p>
<p><b>SDOCM00103134 </b></p>
<p>Sector size returned for FLEE banks by Fapi_getBankSectors() is </p>
<p>double the actual size </p>
<p><b> </b></p>
<p><b>v2.00.01 </b></p>
<p> </p>
<p><b>Reference </b></p>
<p><b>Description </b></p>
<p><b>SDOCM00102084</b></p>
<p><b> </b></p>
<p>Typo in CGT.CCS.H in GNU attribute check</p>
<p> </p>
<p><b>SDOCM00102399 </b></p>
<p>Restored FEDACSDIS and FEDACSDIS2 definitions </p>
<p><b> </b></p>
<p><b>v2.00.00 </b></p>
<p> </p>
<p><b>Reference </b></p>
<p><b>Description </b></p>
<p><b>SDOCM00094147 </b></p>
<p>Incorrect read in Verify functions in ECC regions on LE devices </p>
<p>4</p>
<p> </p>
<p>Known Issues </p>
<p>None Known. </p>
<p> </p>
</body>
</html>
{% endraw %}